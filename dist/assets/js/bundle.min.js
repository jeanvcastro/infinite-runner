(()=>{"use strict";class t{createView(t){const e=document.createElement("div");e.innerHTML=t,this.view=e.firstChild}destroy(){this.view.remove()}getWidth(){return this.view.offsetWidth&&(this.width=this.view.offsetWidth),this.width}setWidth(t){this.width=t,this.view.style.width=this.width+"px"}getHeight(){return this.view.offsetHeight&&(this.height=this.view.offsetHeight),this.height}setHeight(t){this.height=t,this.view.style.height=this.height+"px"}getLeft(){return this.left=parseFloat(window.getComputedStyle(this.view).left),this.left}setLeft(t){this.left=t,this.view.style.left=this.left+"px"}getTop(){return this.top=parseFloat(window.getComputedStyle(this.view).top),this.top}setTop(t){this.top=t,this.view.style.top=this.top+"px"}}class e extends t{constructor(){super(),this.createView('<div id="player"></div>'),this.running=!0,this.jumping=!0,this.landed=!1,this.yVel=0,this.xVel=10}jump(){this.jumping||(this.jumping=!0,this.yVel-=10)}}class i extends t{constructor(){super(),this.createView('<div class="platform"></div>')}setColor(t){this.view.style.backgroundColor=t}}new class extends t{constructor(e){super(),this.view=document.querySelector(e),this.gravity=.6,this.platforms=[],this.currentScore=0,this.highScore=0,this.score=new t,this.score.createView('<div id="score">HI <span id="high-score">000000</span> <span id="current-score">000000</span></div>'),this.view.appendChild(this.score.view),document.addEventListener("keydown",(t=>{switch(t.code){case"KeyW":case"Space":case"ArrowUp":this.player.jump()}})),this.view.addEventListener("click",(()=>this.player.jump())),this.setup()}getMax(t,e){return Math.max(t,e)}getRandom(t,e=0){return Math.floor(Math.random()*(t-e))+e}updateScore(){this.currentScore>this.highScore&&(this.highScore=this.currentScore),this.score.view.querySelector("#high-score").innerHTML=this.highScore.toString().padStart(6,"0"),this.score.view.querySelector("#current-score").innerHTML=this.currentScore.toString().padStart(6,"0")}setPlayer(t){this.player=t,this.view.appendChild(this.player.view)}createPlatform(){const t=["#2ca8c2","#98cb4a","#f76d3c","#f15f74","#5481e6"],e=new i,s=this.getMax(this.getWidth()/3,300)+this.getRandom(50),h=this.getHeight()/3-this.player.getHeight()+this.getRandom(75);return e.setWidth(s),e.setHeight(h),e.setColor(t[this.getRandom(t.length-1)]),e}addPlatform(t){this.platforms.push(t),this.view.appendChild(t.view)}setup(){const t=new e;this.setPlayer(t);for(let t=0;t<3;t++){let e=0;if(t){const i=this.platforms[t-1];e=i.getLeft()+i.getWidth()+this.getRandom(200,100)}const i=this.createPlatform();i.setLeft(e),this.addPlatform(i)}}reset(){this.currentScore=0,this.player.destroy(),this.platforms.forEach((t=>t.destroy())),this.platforms=[],this.setup()}run(){setInterval((()=>{this.player.landed=!1,this.platforms.forEach(((t,e)=>{if(this.player.getLeft()+this.player.getWidth()>t.getLeft()&&this.player.getLeft()<t.getLeft()+t.getWidth()&&(this.player.getTop()>t.getTop()?(this.player.setLeft(t.getLeft()-this.player.getWidth()),this.player.running=!1):this.player.getTop()+this.player.yVel+this.player.getHeight()>t.getTop()&&(this.player.jumping=!1,this.player.yVel=0,this.player.setTop(t.getTop()-this.player.getHeight())),this.player.landed=!0),this.player.running)if(t.getLeft()+t.getWidth()<0){this.platforms.splice(e,1),t.destroy();const i=this.platforms[this.platforms.length-1],s=this.getMax(i.getLeft()+i.getWidth(),this.getWidth()),h=this.createPlatform();h.setLeft(s+this.getRandom(200,100)),this.addPlatform(h)}else t.setLeft(t.getLeft()-this.player.xVel)})),this.player.landed||(this.player.jumping=!0),this.player.getTop()+this.player.yVel>=this.getHeight()&&this.reset(),this.player.jumping&&(this.player.yVel+=this.gravity),this.player.setTop(this.player.getTop()+this.player.yVel),this.currentScore++,this.updateScore(),this.currentScore%100==0&&(this.player.xVel+=.5)}),30)}}("#game").run(),console.clear(),console.log("\n\nEST√Å PROCURANDO ALGUMA COISA? ü§î\n\n\n")})();